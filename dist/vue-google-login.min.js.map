{"version":3,"file":"vue-google-login.min.js","sources":["../src/GoogleAuth.js","../node_modules/vue-runtime-helpers/dist/normalize-component.js","../src/LoaderPlugin.js"],"sourcesContent":["let auth2;\nlet loadingPromise;\n\nconst createScript = () => {\n    return new Promise((resolve, reject) => {\n        const el = document.getElementById('auth2_script_id');\n        if (!el) {\n            let gplatformScript = document.createElement('script')\n            gplatformScript.setAttribute('src', 'https://apis.google.com/js/platform.js?onload=onGapiLoad')\n            gplatformScript.setAttribute(\"async\", true)\n            gplatformScript.setAttribute(\"defer\", \"defer\")\n            gplatformScript.setAttribute(\"id\", \"auth2_script_id\")\n            document.head.appendChild(gplatformScript);\n        }\n        resolve();\n    });\n\n}\n\nconst onGapiLoadPromise = (params) => {\n    return new Promise((resolve, reject) => {\n        window.onGapiLoad = () => {\n            window.gapi.load('auth2', () => {\n                try {\n                    auth2 = window.gapi.auth2.init({\n                        ...params\n                    });\n                } catch (err) {\n                    reject({ err: 'client_id missing or is incorrect, or if you added extra params maybe they are written incorrectly, did you add it to the component or plugin?' })\n                }\n                resolve(auth2);\n            })\n        }\n    })\n}\n\nconst loadingAuth2 = (params) => {\n    if (auth2) {\n        return Promise.resolve(auth2);\n    } else {\n        if (!loadingPromise)\n            loadingPromise = onGapiLoadPromise(params);\n        return loadingPromise;\n    }\n}\n\nconst load = (params) => {\n    return Promise.all(\n        [loadingAuth2(params), createScript()])\n        .then(results => {\n            return results[0];\n        });\n}\n\nconst wrapper = (f, method) => {\n    if (f)\n        return f[method]();\n    else {\n        const err = { err: 'Script not loaded correctly, did you added the plugin or the client_id to the component?' };\n        return Promise.reject(err);\n    }\n}\n\nconst signIn = () => wrapper(auth2, 'signIn');\n\nconst signOut = () => wrapper(auth2, 'signOut');\n\nexport default {\n    load,\n    signIn,\n    signOut\n}","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","import GoogleAuth from './GoogleAuth';\n\nexport default {\n    install (Vue, params) {\n        Vue.GoogleAuth = GoogleAuth.load(params);\n    }\n}"],"names":["auth2","loadingPromise","onGapiLoadPromise","params","Promise","resolve","reject","window","onGapiLoad","gapi","load","init","err","loadingAuth2","wrapper","f","method","all","document","getElementById","gplatformScript","createElement","setAttribute","head","appendChild","then","results","signIn","signOut","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","options","render","staticRenderFns","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","install","Vue","GoogleAuth"],"mappings":"wUAAA,IAAIA,EACAC,EAkBEC,EAAoB,SAACC,UAChB,IAAIC,QAAQ,SAACC,EAASC,GACzBC,OAAOC,WAAa,WAChBD,OAAOE,KAAKC,KAAK,QAAS,eAElBV,EAAQO,OAAOE,KAAKT,MAAMW,2UACnBR,IAET,MAAOS,GACLN,EAAO,CAAEM,IAAK,mJAElBP,EAAQL,SAMlBa,EAAe,SAACV,UACdH,EACOI,QAAQC,QAAQL,IAElBC,IACDA,EAAiBC,EAAkBC,IAChCF,IAYTa,EAAU,SAACC,EAAGC,MACZD,EACA,OAAOA,EAAEC,YAGFZ,QAAQE,OADH,CAAEM,IAAK,gGASZ,CACXF,KAtBS,SAACP,UACHC,QAAQa,IACX,CAACJ,EAAaV,GA5CX,IAAIC,QAAQ,SAACC,EAASC,OACdY,SAASC,eAAe,mBAC1B,KACDC,EAAkBF,SAASG,cAAc,UAC7CD,EAAgBE,aAAa,MAAO,4DACpCF,EAAgBE,aAAa,SAAS,GACtCF,EAAgBE,aAAa,QAAS,SACtCF,EAAgBE,aAAa,KAAM,mBACnCJ,SAASK,KAAKC,YAAYJ,GAE9Bf,QAmCCoB,KAAK,SAAAC,UACKA,EAAQ,MAmBvBC,OANW,kBAAMb,EAAQd,EAAO,WAOhC4B,QALY,kBAAMd,EAAQd,EAAO,iBCoBrC,MAnFA,SAA4B6B,EAAUC,EAAOC,EAAQC,EAASC,EAAsBC,EAElFC,EAAYC,EAAgBC,EAAmBC,GACrB,kBAAfH,IACTE,EAAoBD,EACpBA,EAAiBD,EACjBA,GAAa,GAIf,IAiBII,EAjBAC,EAA4B,mBAAXT,EAAwBA,EAAOS,QAAUT,EAsD9D,GApDIF,GAAYA,EAASY,SACvBD,EAAQC,OAASZ,EAASY,OAC1BD,EAAQE,gBAAkBb,EAASa,gBACnCF,EAAQG,WAAY,EAEhBV,IACFO,EAAQI,YAAa,IAKrBZ,IACFQ,EAAQK,SAAWb,GAKjBE,GAEFK,EAAO,SAAcO,IAEnBA,EAAUA,GACVC,KAAKC,QAAUD,KAAKC,OAAOC,YAC3BF,KAAKG,QAAUH,KAAKG,OAAOF,QAAUD,KAAKG,OAAOF,OAAOC,aAGT,oBAAxBE,sBACrBL,EAAUK,qBAIRrB,GACFA,EAAMsB,KAAKL,KAAMV,EAAkBS,IAIjCA,GAAWA,EAAQO,uBACrBP,EAAQO,sBAAsBC,IAAIpB,IAMtCM,EAAQe,aAAehB,GACdT,IACTS,EAAOJ,EAAa,WAClBL,EAAMsB,KAAKL,KAAMT,EAAqBS,KAAKS,MAAMC,SAASC,cACxD,SAAUZ,GACZhB,EAAMsB,KAAKL,KAAMX,EAAeU,MAIhCP,EACF,GAAIC,EAAQI,WAAY,CAEtB,IAAIe,EAAiBnB,EAAQC,OAE7BD,EAAQC,OAAS,SAAkCmB,EAAGd,GAEpD,OADAP,EAAKa,KAAKN,GACHa,EAAeC,EAAGd,QAEtB,CAEL,IAAIe,EAAWrB,EAAQsB,aACvBtB,EAAQsB,aAAeD,EAAW,GAAGE,OAAOF,EAAUtB,GAAQ,CAACA,GAInE,OAAOR,21BChFM,CACXiC,iBAASC,EAAK9D,GACV8D,EAAIC,WAAaA,EAAWxD,KAAKP"}